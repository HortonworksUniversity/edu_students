{"paragraphs":[{"text":"%md\n# About\n**Lab:** Hive Partitions\n**Objective:** Become familiar with using Hive partitions\n**File locations:** hostname:/tmp/movies  hdfs:///data/movies\n**Successful outcome:** Understanding hive partitions\n**Before you begin:** N/A\n**Related lessons:** Hive Partitions and Bucketing \n\n---","user":"sysadmin","dateUpdated":"2020-06-11T20:20:55+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>About</h1>\n<p><strong>Lab:</strong> Hive Partitions\n<br  /><strong>Objective:</strong> Become familiar with using Hive partitions\n<br  /><strong>File locations:</strong> hostname:/tmp/movies  hdfs:///data/movies\n<br  /><strong>Successful outcome:</strong> Understanding hive partitions\n<br  /><strong>Before you begin:</strong> N/A\n<br  /><strong>Related lessons:</strong> Hive Partitions and Bucketing</p>\n<hr />\n"}]},"apps":[],"jobName":"paragraph_1591759061610_2091610351","id":"20181126-092644_1457476546","dateCreated":"2020-06-10T03:17:41+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:39390"},{"text":"%md\n# Setup\nThe setup may have been completed in a previous lab.","user":"sysadmin","dateUpdated":"2020-06-11T20:20:57+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>Setup</h1>\n<p>The setup may have been completed in a previous lab.</p>\n"}]},"apps":[],"jobName":"paragraph_1591759061610_1390267079","id":"20181201-044336_178705192","dateCreated":"2020-06-10T03:17:41+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:39391"},{"title":"Retrieve the files from IMDb","text":"%sh\nrm -r /tmp/movies\nmkdir -p /tmp/movies\nwget -nv https://datasets.imdbws.com/title.basics.tsv.gz -O /tmp/movies/title.basics.tsv.gz\nwget -nv https://datasets.imdbws.com/title.crew.tsv.gz -O /tmp/movies/title.crew.tsv.gz\nwget -nv https://datasets.imdbws.com/name.basics.tsv.gz -O /tmp/movies/name.basics.tsv.gz\nwget -nv https://datasets.imdbws.com/title.ratings.tsv.gz -O /tmp/movies/title.ratings.tsv.gz\n","user":"sysadmin","dateUpdated":"2020-06-10T03:17:41+0000","config":{"tableHide":false,"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1591759061611_-758591791","id":"20191018-102228_1632466399","dateCreated":"2020-06-10T03:17:41+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:39392"},{"title":"List the directory for /tmp/movies","text":"%sh\nls /tmp/movies","user":"sysadmin","dateUpdated":"2020-06-11T20:23:24+0000","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"name.basics.tsv\ntitle.basics.tsv\ntitle.crew.tsv\ntitle.ratings.tsv\n"}]},"apps":[],"jobName":"paragraph_1591759061611_2045371603","id":"20200521-192413_451062226","dateCreated":"2020-06-10T03:17:41+0000","dateStarted":"2020-06-11T20:23:24+0000","dateFinished":"2020-06-11T20:23:24+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:39393"},{"title":"Use gunzip to extract the files","text":"%sh\ngunzip /tmp/movies/title.basics.tsv.gz\ngunzip /tmp/movies/title.crew.tsv.gz\ngunzip /tmp/movies/name.basics.tsv.gz\ngunzip /tmp/movies/title.ratings.tsv.gz","user":"sysadmin","dateUpdated":"2020-06-10T03:17:41+0000","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1591759061611_-1997831502","id":"20200521-064438_1000639999","dateCreated":"2020-06-10T03:17:41+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:39394"},{"title":"List the directory for /tmp/movies","text":"%sh\nls /tmp/movies\n","user":"sysadmin","dateUpdated":"2020-06-11T20:23:36+0000","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"name.basics.tsv\ntitle.basics.tsv\ntitle.crew.tsv\ntitle.ratings.tsv\n"}]},"apps":[],"jobName":"paragraph_1591759061611_-1778852846","id":"20191112-230553_2056831798","dateCreated":"2020-06-10T03:17:41+0000","dateStarted":"2020-06-11T20:23:37+0000","dateFinished":"2020-06-11T20:23:37+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:39395"},{"title":"Copy the data in HDFS","text":"%sh\nsudo -u hdfs hdfs dfs -rm -r -skipTrash /data/movies\nsudo -u hdfs hdfs dfs -mkdir /data/movies\nsudo -u hdfs hdfs dfs -put /tmp/movies/* /data/movies/","user":"sysadmin","dateUpdated":"2020-06-11T20:31:56+0000","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Deleted /data/movies\n"}]},"apps":[],"jobName":"paragraph_1591759061611_-1962275120","id":"20190606-125917_882022294","dateCreated":"2020-06-10T03:17:41+0000","dateStarted":"2020-06-11T20:31:56+0000","dateFinished":"2020-06-11T20:32:04+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:39396"},{"title":"Grant Hive access to /data/movies","text":"%sh\nsudo -u hdfs hdfs dfs -chown -R hive /data/movies","user":"sysadmin","dateUpdated":"2020-06-11T20:32:12+0000","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1591759061611_887973693","id":"20200521-064528_1802092173","dateCreated":"2020-06-10T03:17:41+0000","dateStarted":"2020-06-11T20:32:12+0000","dateFinished":"2020-06-11T20:32:14+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:39397"},{"title":"List the content of HDFS /data/movies","text":"%sh\nhdfs dfs -ls /data/movies","user":"sysadmin","dateUpdated":"2020-06-11T20:32:16+0000","config":{"tableHide":false,"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Found 4 items\n-rw-r--r--   3 hive hdfs  838796238 2020-06-11 20:32 /data/movies/name.basics.tsv\n-rw-r--r--   3 hive hdfs  585035615 2020-06-11 20:32 /data/movies/title.basics.tsv\n-rw-r--r--   3 hive hdfs  223503103 2020-06-11 20:32 /data/movies/title.crew.tsv\n-rw-r--r--   3 hive hdfs   17889432 2020-06-11 20:32 /data/movies/title.ratings.tsv\n"}]},"apps":[],"jobName":"paragraph_1591759061611_-1132152207","id":"20191112-230650_4388191","dateCreated":"2020-06-10T03:17:41+0000","dateStarted":"2020-06-11T20:32:16+0000","dateFinished":"2020-06-11T20:32:18+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:39398"},{"title":"Create the movies database","text":"%jdbc(hive_interactive)\nDROP DATABASE IF EXISTS movies CASCADE;\n\nCREATE DATABASE movies;\n\nUSE movies;\n\n-- Contains the following information for titles\nCREATE EXTERNAL TABLE movie_title_stage (\n                        tconst string,\n                        titleType string,\n                        primaryTitle string,\n                        originalTitle string,\n                        isAdult string,\n                        startYear string,\n                        endYear string,\n                        runtimeMinutes string,\n                        genres ARRAY<STRING>\n                        ) \nROW FORMAT DELIMITED \nFIELDS TERMINATED BY '\\t' \nLOCATION '/warehouse/tablespace/external/hive/movie_title_stage/';\n\n-- Load data\nLOAD DATA  INPATH '/data/movies/title.basics.tsv' OVERWRITE INTO TABLE movie_title_stage;\n\n-- Remove header for movie_title\nALTER TABLE movie_title_stage SET TBLPROPERTIES (\"skip.header.line.count\"=\"1\");\n\n\n-- Contains the information for directors and writers\nCREATE EXTERNAL TABLE movie_crew_stage(\n                        tconst string,\n                        directors ARRAY<STRING>,\n                        writers ARRAY<STRING>\n                        ) \nROW FORMAT DELIMITED \nFIELDS TERMINATED BY '\\t' \nLOCATION '/warehouse/tablespace/external/hive/movie_crew_stage/';\n\n-- Load data movie_crew\nLOAD DATA  INPATH '/data/movies/title.crew.tsv' OVERWRITE INTO TABLE movie_crew_stage;\n\n-- Remove header for movie_crew\nALTER TABLE movie_crew_stage SET TBLPROPERTIES (\"skip.header.line.count\"=\"1\");\n\n-- Contains the information for names\nCREATE EXTERNAL TABLE movie_crew_info_stage(\n                        nconst string,\n                        primaryName string,\n                        birthYear string,\n                        deathYear string,\n                        primaryProfession ARRAY<STRING>,\n                        knownForTitles ARRAY<STRING>\n                        )\nROW FORMAT DELIMITED \nFIELDS TERMINATED BY '\\t' \nLOCATION '/warehouse/tablespace/external/hive/movie_crew_info_stage/';\n\n-- Load data movie_crew_info\nLOAD DATA  INPATH '/data/movies/name.basics.tsv' OVERWRITE INTO TABLE movie_crew_info_stage;\n\n-- Remove header for movie_crew_info\nALTER TABLE movie_crew_info_stage SET TBLPROPERTIES (\"skip.header.line.count\"=\"1\");\n\n\n-- Ratings and vote information for titles\nCREATE EXTERNAL TABLE ratings_stage(\n                        tconst string,\n                        averageRting double,\n                        numVotes int\n                        ) \nROW FORMAT DELIMITED \nFIELDS TERMINATED BY '\\t' \nLOCATION '/warehouse/tablespace/external/hive/ratings_stage/';\n\n\n-- Load data ratings\nLOAD DATA  INPATH '/data/movies/title.ratings.tsv' OVERWRITE INTO TABLE ratings_stage;\n\n-- Remove header for ratings\nALTER TABLE ratings_stage SET TBLPROPERTIES (\"skip.header.line.count\"=\"1\");\n","user":"sysadmin","dateUpdated":"2020-06-11T20:32:23+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"}]},"apps":[],"jobName":"paragraph_1591759061611_-454852094","id":"20190606-130018_345497420","dateCreated":"2020-06-10T03:17:41+0000","dateStarted":"2020-06-11T20:32:23+0000","dateFinished":"2020-06-11T20:32:24+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:39399"},{"text":"%md\n# Lab\n","user":"sysadmin","dateUpdated":"2020-06-11T20:25:18+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>Lab</h1>\n"}]},"apps":[],"jobName":"paragraph_1591759061611_-1147939486","id":"20181126-093358_358613711","dateCreated":"2020-06-10T03:17:41+0000","dateStarted":"2020-06-11T20:25:18+0000","dateFinished":"2020-06-11T20:25:18+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:39400"},{"text":"%md\nWe are going to use the new movie database and do a describe on the tables listed  below\n\n~~~\nuse movies;\ndescribe movie_title;\ndescribe movie_crew;\ndescribe movie_crew_info;\ndescribe ratings;\n~~~\n\nAlso, try some queries on the tables for practice. Limit your data to 5 rows.","user":"sysadmin","dateUpdated":"2020-06-10T03:17:41+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>We are going to use the new movie database and do a describe on the tables listed  below</p>\n<pre><code>use movies;\ndescribe movie_title;\ndescribe movie_crew;\ndescribe movie_crew_info;\ndescribe ratings;\n</code></pre>\n<p>Also, try some queries on the tables for practice. Limit your data to 5 rows.</p>\n"}]},"apps":[],"jobName":"paragraph_1591759061611_2050668776","id":"20181201-173003_1022275665","dateCreated":"2020-06-10T03:17:41+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:39401"},{"title":"1 - Use movies database and describe tables","text":"","user":"sysadmin","dateUpdated":"2020-06-10T03:17:41+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"col_name":"string","data_type":"string","comment":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}},"1":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"col_name":"string","data_type":"string","comment":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}},"2":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"col_name":"string","data_type":"string","comment":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}},"3":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"col_name":"string","data_type":"string","comment":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1591759061612_-1050493316","id":"20181126-094403_539011278","dateCreated":"2020-06-10T03:17:41+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:39402"},{"title":"2 - Do some practice queries to become familiar with data limit 5","text":"","user":"sysadmin","dateUpdated":"2020-06-10T03:17:41+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{}},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1591759061612_274756107","id":"20181018-110639_553156023","dateCreated":"2020-06-10T03:17:41+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:39403"},{"text":"%md\nWe are going to create two views in the movies database.\nViews\n-- A view to show all types that are movies and release year.\n-- A view to show movies that have been released after 2015. \n\n~~~\nCreate VIEW movie_year as\nSelect primaryTitle,startYear from movie_title where titletype=\"movie\";\n\nCreate VIEW title_releases as\nSelect primaryTitle,startYear from movie_title where startYear>2015;\n\n\n\n~~~\n\nBut first we need to drop the table if it already exists.","user":"sysadmin","dateUpdated":"2020-06-10T03:17:41+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>We are going to create two views in the movies database.\n<br  />Views\n<br  />&ndash; A view to show all types that are movies and release year.\n<br  />&ndash; A view to show movies that have been released after 2015.</p>\n<pre><code>Create VIEW movie_year as\nSelect primaryTitle,startYear from movie_title where titletype=\"movie\";\n\nCreate VIEW title_releases as\nSelect primaryTitle,startYear from movie_title where startYear&gt;2015;\n</code></pre>\n<p>But first we need to drop the table if it already exists.</p>\n"}]},"apps":[],"jobName":"paragraph_1591759061612_-150848878","id":"20181203-225219_1680906315","dateCreated":"2020-06-10T03:17:41+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:39404"},{"title":"3 - Drop the views","text":"\n","user":"sysadmin","dateUpdated":"2020-06-10T03:17:41+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1591759061612_-381089784","id":"20181204-010437_1605522409","dateCreated":"2020-06-10T03:17:41+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:39405"},{"title":"4 - Create the views","user":"sysadmin","dateUpdated":"2020-06-10T03:17:41+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1591759061612_-2001344460","id":"20200521-064856_457141130","dateCreated":"2020-06-10T03:17:41+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:39406"},{"title":"5 - Query the new views. Limit 5","text":"\n","user":"sysadmin","dateUpdated":"2020-06-10T03:17:41+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1591759061612_-1529093396","id":"20181203-230842_273863334","dateCreated":"2020-06-10T03:17:41+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:39407"},{"text":"%md\n**We are going to create a materialized views in the movies database.**\nCREATE TRANSACTIONAL TABLE\nMATERIALIZED VIEW\n-- Show all types that are movies and the release year.\n~~~\n%jdbc(hive_interactive)\nCREATE TABLE movie_title_transaction STORED AS orc AS SELECT * FROM movie_title_stage;\n\nALTER TABLE movie_title_transaction SET TBLPROPERTIES ('transactional'='true');\n\nCREATE MATERIALIZED VIEW mv_movie_title\nAS  SELECT primaryTitle,startYear FROM movie_title_transaction WHERE titletype=\"movie\";\n\nDESCRIBE FORMATTED movies.mv_movie_title;\n\nALTER MATERIALIZED VIEW movies.mv_movie_title REBUILD;\n\n\n~~~\n\nBut first we need to drop the table if it already exists.\n","user":"sysadmin","dateUpdated":"2020-06-10T03:17:41+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p><strong>We are going to create a materialized views in the movies database.</strong>\n<br  />CREATE TRANSACTIONAL TABLE\n<br  />MATERIALIZED VIEW\n<br  />&ndash; Show all types that are movies and the release year.</p>\n<pre><code>%jdbc(hive_interactive)\nCREATE TABLE movie_title_transaction STORED AS orc AS SELECT * FROM movie_title_stage;\n\nALTER TABLE movie_title_transaction SET TBLPROPERTIES ('transactional'='true');\n\nCREATE MATERIALIZED VIEW mv_movie_title\nAS  SELECT primaryTitle,startYear FROM movie_title_transaction WHERE titletype=\"movie\";\n\nDESCRIBE FORMATTED movies.mv_movie_title;\n\nALTER MATERIALIZED VIEW movies.mv_movie_title REBUILD;\n</code></pre>\n<p>But first we need to drop the table if it already exists.</p>\n"}]},"apps":[],"jobName":"paragraph_1591759061612_-131643833","id":"20181204-000517_618949634","dateCreated":"2020-06-10T03:17:41+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:39408"},{"title":"6 - Drop the transactional table if exists","text":"\n","user":"sysadmin","dateUpdated":"2020-06-10T03:17:41+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1591759061612_-1147237506","id":"20200521-065229_1920097581","dateCreated":"2020-06-10T03:17:41+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:39409"},{"title":"7 - Use a CTAS statement to create the transactional table","text":"","user":"sysadmin","dateUpdated":"2020-06-10T03:17:41+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"editorHide":false,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"stock_exchange":"string","stock_symbol":"string","stock_date":"string","stock_price_open":"string","stock_price_high":"string","stock_price_low":"string","stock_price_close":"string","stock_volume":"string","stock_price_adj_close":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1591759061612_-1471608400","id":"20181126-095509_674195979","dateCreated":"2020-06-10T03:17:41+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:39410"},{"title":"8 - Create a materialized view","text":"","user":"sysadmin","dateUpdated":"2020-06-10T03:17:41+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"editorHide":false,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{}},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1591759061612_-2039835822","id":"20181126-095817_1749585937","dateCreated":"2020-06-10T03:17:41+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:39411"},{"title":"9 - Describe the materialized view","user":"sysadmin","dateUpdated":"2020-06-10T03:17:41+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1591759061613_-1178512310","id":"20200521-065345_1997415210","dateCreated":"2020-06-10T03:17:41+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:39412"},{"title":"10 - Execute a query on the materialized view","text":"","user":"sysadmin","dateUpdated":"2020-06-10T03:17:41+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1591759061613_17692312","id":"20181126-131410_2059805867","dateCreated":"2020-06-10T03:17:41+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:39413"},{"title":"11 - Can you delete movie titles from the year 2000 and rebuild the materialized view?","text":"%md\nIn a new paragraph show the materialied views in the movies database using the command below:\n```console\n%jdbc(hive_interactive)\nDELETE FROM mv_movie_title WHERE startYear='2000'\n```","user":"sysadmin","dateUpdated":"2020-06-11T22:27:04+0000","config":{"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1591759061613_1373896413","id":"20181204-174133_1538786119","dateCreated":"2020-06-10T03:17:41+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:39414"},{"text":"","user":"sysadmin","dateUpdated":"2020-06-11T22:20:06+0000","config":{"tableHide":false,"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>In a new paragraph show the materialied views in the movies database using the command below:</p>\n<pre><code class=\"console\">%jdbc(hive_interactive)\nshow materialized views in movies;\n</code></pre>\n"}]},"apps":[],"jobName":"paragraph_1591759061613_1454157349","id":"20181201-193217_1030043204","dateCreated":"2020-06-10T03:17:41+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:39415"},{"title":"12 - Show the materialied views in the movies database","text":"\n","user":"sysadmin","dateUpdated":"2020-06-10T03:17:41+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1591759061613_748404574","id":"20190606-130423_928225206","dateCreated":"2020-06-10T03:17:41+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:39416"},{"title":"13 - Drop the Materialized view","text":"\n","user":"sysadmin","dateUpdated":"2020-06-11T22:20:34+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"title":true,"results":{},"enabled":true,"editorHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1591759061613_1466231956","id":"20181204-174951_1453020842","dateCreated":"2020-06-10T03:17:41+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:39417"},{"text":"%md\n**Tip:** You can create a materialized view and store the data in Druid, using the Druid storage Handler\n","user":"sysadmin","dateUpdated":"2020-06-11T22:20:38+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p><strong>Tip:</strong> You can create a materialized view and store the data in Druid, using the Druid storage Handler</p>\n"}]},"apps":[],"jobName":"paragraph_1591759061613_1284707193","id":"20181204-174805_2117664245","dateCreated":"2020-06-10T03:17:41+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:39418"},{"text":"%md\n###Practice SQL","user":"sysadmin","dateUpdated":"2020-06-11T22:20:40+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h3>Practice SQL</h3>\n"}]},"apps":[],"jobName":"paragraph_1591759061613_-1897878078","id":"20181204-001505_340371368","dateCreated":"2020-06-10T03:17:41+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:39419"},{"title":"14 - Create your own materialized view","text":"\n","user":"sysadmin","dateUpdated":"2020-06-10T03:17:41+0000","config":{"editorSetting":{"language":"scala","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/scala","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1591759061613_1996695693","id":"20181204-001519_78494032","dateCreated":"2020-06-10T03:17:41+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:39420"},{"text":"%md\n# Result\n**You have now:** You have now successfully created a Hive materialized view.\n\n---","user":"sysadmin","dateUpdated":"2020-06-11T20:25:51+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>Result</h1>\n<p><strong>You have now:</strong> You have now successfully created a Hive materialized view.</p>\n<hr />\n"}]},"apps":[],"jobName":"paragraph_1591759061614_1049232356","id":"20181126-133507_1472573213","dateCreated":"2020-06-10T03:17:41+0000","dateStarted":"2020-06-11T20:25:51+0000","dateFinished":"2020-06-11T20:25:51+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:39421"},{"text":"%md\n# Solution\n---","user":"sysadmin","dateUpdated":"2020-06-11T20:25:49+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>Solution</h1>\n<hr />\n"}]},"apps":[],"jobName":"paragraph_1591759061614_648144225","id":"20181018-125200_1133281582","dateCreated":"2020-06-10T03:17:41+0000","dateStarted":"2020-06-11T20:25:49+0000","dateFinished":"2020-06-11T20:25:49+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:39422"},{"title":"1 - Use movies database and describe tables","text":"%jdbc(hive_interactive)\nUSE movies;\nDESCRIBE movie_title_stage;\nDESCRIBE movie_crew_stage;\nDESCRIBE movie_crew_info_stage;\nDESCRIBE ratings_stage;","user":"sysadmin","dateUpdated":"2020-06-11T22:10:06+0000","config":{"tableHide":false,"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"tab_name":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}},"1":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"col_name":"string","data_type":"string","comment":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}},"2":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"col_name":"string","data_type":"string","comment":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}},"3":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"col_name":"string","data_type":"string","comment":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}},"4":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"col_name":"string","data_type":"string","comment":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TABLE","data":"col_name\tdata_type\tcomment\ntconst\tstring\t\ntitletype\tstring\t\nprimarytitle\tstring\t\noriginaltitle\tstring\t\nisadult\tstring\t\nstartyear\tstring\t\nendyear\tstring\t\nruntimeminutes\tstring\t\ngenres\tarray<string>\t\n"},{"type":"TABLE","data":"col_name\tdata_type\tcomment\ntconst\tstring\t\ndirectors\tarray<string>\t\nwriters\tarray<string>\t\n"},{"type":"TABLE","data":"col_name\tdata_type\tcomment\nnconst\tstring\t\nprimaryname\tstring\t\nbirthyear\tstring\t\ndeathyear\tstring\t\nprimaryprofession\tarray<string>\t\nknownfortitles\tarray<string>\t\n"},{"type":"TABLE","data":"col_name\tdata_type\tcomment\ntconst\tstring\t\naveragerting\tdouble\t\nnumvotes\tint\t\n"}]},"apps":[],"jobName":"paragraph_1591759061614_-2102261406","id":"20181018-110338_1899474794","dateCreated":"2020-06-10T03:17:41+0000","dateStarted":"2020-06-11T22:10:06+0000","dateFinished":"2020-06-11T22:10:06+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:39423"},{"title":"2 - Do some practice queries to become familiar with data limit 5","text":"%jdbc(hive_interactive)\nSELECT * FROM movie_crew_stage LIMIT 5;\n","user":"sysadmin","dateUpdated":"2020-06-11T22:11:02+0000","config":{"tableHide":false,"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"movie_crew_stage.tconst":"string","movie_crew_stage.directors":"string","movie_crew_stage.writers":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}},"1":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"col_name":"string","data_type":"string","comment":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"movie_crew_stage.tconst\tmovie_crew_stage.directors\tmovie_crew_stage.writers\ntt0000001\t[\"nm0005690\"]\tnull\ntt0000002\t[\"nm0721526\"]\tnull\ntt0000003\t[\"nm0721526\"]\tnull\ntt0000004\t[\"nm0721526\"]\tnull\ntt0000005\t[\"nm0005690\"]\tnull\n"}]},"apps":[],"jobName":"paragraph_1591759061614_-2041343415","id":"20181126-094450_1417148698","dateCreated":"2020-06-10T03:17:41+0000","dateStarted":"2020-06-11T22:11:02+0000","dateFinished":"2020-06-11T22:11:02+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:39424"},{"title":"3 - Drop the views ","text":"%jdbc(hive_interactive)\nDROP VIEW IF EXISTS movie_year;\n\nDROP VIEW IF EXISTS title_releases;\n","user":"sysadmin","dateUpdated":"2020-06-11T22:11:10+0000","config":{"tableHide":true,"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"dc_comics_acid_insert.page_id":"string","dc_comics_acid_insert.name":"string","dc_comics_acid_insert.urlslug":"string","dc_comics_acid_insert.id":"string","dc_comics_acid_insert.align":"string","dc_comics_acid_insert.eye":"string","dc_comics_acid_insert.hair":"string","dc_comics_acid_insert.sex":"string","dc_comics_acid_insert.gsm":"string","dc_comics_acid_insert.alive":"string","dc_comics_acid_insert.appearances":"string","dc_comics_acid_insert.first_appearances":"string","dc_comics_acid_insert.year":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"}]},"apps":[],"jobName":"paragraph_1591759061614_-1220092775","id":"20181018-110637_1031040934","dateCreated":"2020-06-10T03:17:41+0000","dateStarted":"2020-06-11T22:11:10+0000","dateFinished":"2020-06-11T22:11:10+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:39425"},{"title":"4 - Create the views","text":"%jdbc(hive_interactive)\n\nCREATE VIEW movie_year AS\nSELECT primaryTitle,startYear FROM movie_title_stage WHERE titletype=\"movie\";\n\nCREATE VIEW title_releases AS\nSELECT primaryTitle,startYear FROM movie_title_stage WHERE startYear>2015;\n","user":"sysadmin","dateUpdated":"2020-06-11T22:11:14+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"}]},"apps":[],"jobName":"paragraph_1591759061614_868415546","id":"20200521-065759_146166053","dateCreated":"2020-06-10T03:17:41+0000","dateStarted":"2020-06-11T22:11:14+0000","dateFinished":"2020-06-11T22:11:14+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:39426"},{"title":"5 - Query the views. Limit 5","text":"%jdbc(hive_interactive)\nSELECT * FROM movie_year LIMIT 5;\n\nSELECT * FROM title_releases LIMIT 5;","user":"sysadmin","dateUpdated":"2020-06-11T22:11:17+0000","config":{"tableHide":false,"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"movie_year.primarytitle":"string","movie_year.startyear":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}},"1":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"title_releases.primarytitle":"string","title_releases.startyear":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"movie_year.primarytitle\tmovie_year.startyear\nMiss Jerry\t1894\nThe Corbett-Fitzsimmons Fight\t1897\nSoldiers of the Cross\t1900\nBohemios\t1905\nThe Story of the Kelly Gang\t1906\n"},{"type":"TABLE","data":"title_releases.primarytitle\ttitle_releases.startyear\nA Embalagem de Vidro\t2020\nEl tango del viudo y su espejo deformante\t2020\nThe Other Side of the Wind\t2018\nKokoa\t2019\nMartina's Playhouse\t2019\n"}]},"apps":[],"jobName":"paragraph_1591759061614_758465154","id":"20181018-111736_1626489692","dateCreated":"2020-06-10T03:17:41+0000","dateStarted":"2020-06-11T22:11:17+0000","dateFinished":"2020-06-11T22:11:17+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:39427"},{"title":"6 - Drop the transactional table if exists","text":"%jdbc(hive_interactive)\nDROP TABLE IF EXISTS movie_title_transaction;","user":"sysadmin","dateUpdated":"2020-06-11T22:11:38+0000","config":{"tableHide":false,"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{}},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"}]},"apps":[],"jobName":"paragraph_1591759061614_44223259","id":"20181018-110351_344629664","dateCreated":"2020-06-10T03:17:41+0000","dateStarted":"2020-06-11T22:11:38+0000","dateFinished":"2020-06-11T22:11:38+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:39428"},{"title":"7 - Use a CTAS statement to create the transactional table","text":"%jdbc(hive_interactive)\nCREATE table movie_title_transaction stored as orc as select * from movie_title_stage;\n\nALTER TABLE movie_title_transaction SET TBLPROPERTIES ('transactional'='true');","user":"sysadmin","dateUpdated":"2020-06-11T22:11:41+0000","config":{"tableHide":false,"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"}]},"apps":[],"jobName":"paragraph_1591759061614_2028018553","id":"20200521-070019_140912101","dateCreated":"2020-06-10T03:17:41+0000","dateStarted":"2020-06-11T22:11:41+0000","dateFinished":"2020-06-11T22:12:35+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:39429"},{"title":"8 - Create a materialized view","text":"%jdbc(hive_interactive)\nCREATE MATERIALIZED VIEW mv_movie_title\nAS SELECT primaryTitle,startYear FROM movie_title_transaction WHERE titletype=\"movie\";\n","user":"sysadmin","dateUpdated":"2020-06-11T22:12:40+0000","config":{"tableHide":false,"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"dc_comics_acid.page_id":"string","dc_comics_acid.name":"string","dc_comics_acid.urlslug":"string","dc_comics_acid.id":"string","dc_comics_acid.align":"string","dc_comics_acid.eye":"string","dc_comics_acid.hair":"string","dc_comics_acid.sex":"string","dc_comics_acid.gsm":"string","dc_comics_acid.alive":"string","dc_comics_acid.appearances":"string","dc_comics_acid.first_appearances":"string","dc_comics_acid.year":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}},"1":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"col_name":"string","data_type":"string","comment":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"}]},"apps":[],"jobName":"paragraph_1591759061614_91903711","id":"20181018-112106_390244690","dateCreated":"2020-06-10T03:17:41+0000","dateStarted":"2020-06-11T22:12:40+0000","dateFinished":"2020-06-11T22:12:46+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:39430"},{"title":"9 - Describe the materialized view","text":"%jdbc(hive_interactive)\nDESCRIBE FORMATTED movies.mv_movie_title;","user":"sysadmin","dateUpdated":"2020-06-11T22:12:48+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"col_name":"string","data_type":"string","comment":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"col_name\tdata_type\tcomment\n# col_name\tdata_type\tcomment\nprimarytitle\tstring\t\nstartyear\tstring\t\n\tnull\tnull\n# Detailed Table Information\tnull\tnull\nDatabase:           \tmovies              \tnull\nOwnerType:          \tUSER                \tnull\nOwner:              \tsysadmin            \tnull\nCreateTime:         \tThu Jun 11 22:12:45 UTC 2020\tnull\nLastAccessTime:     \tUNKNOWN             \tnull\nRetention:          \t0                   \tnull\nLocation:           \thdfs://cloudair/warehouse/tablespace/managed/hive/movies.db/mv_movie_title\tnull\nTable Type:         \tMATERIALIZED_VIEW   \tnull\nTable Parameters:\tnull\tnull\n\tCOLUMN_STATS_ACCURATE\t{\\\"BASIC_STATS\\\":\\\"true\\\",\\\"COLUMN_STATS\\\":{\\\"primarytitle\\\":\\\"true\\\",\\\"startyear\\\":\\\"true\\\"}}\n\tbucketing_version   \t2                   \n\tnumFiles            \t2                   \n\tnumRows             \t552773              \n\trawDataSize         \t98809273            \n\ttotalSize           \t6272574             \n\ttransient_lastDdlTime\t1591913566          \n\tnull\tnull\n# Storage Information\tnull\tnull\nSerDe Library:      \torg.apache.hadoop.hive.ql.io.orc.OrcSerde\tnull\nInputFormat:        \torg.apache.hadoop.hive.ql.io.orc.OrcInputFormat\tnull\nOutputFormat:       \torg.apache.hadoop.hive.ql.io.orc.OrcOutputFormat\tnull\nCompressed:         \tNo                  \tnull\nNum Buckets:        \t-1                  \tnull\nBucket Columns:     \t[]                  \tnull\nSort Columns:       \t[]                  \tnull\n\tnull\tnull\n# Materialized View Information\tnull\tnull\nOriginal Query:     \tSELECT primaryTitle,startYear FROM movie_title_transaction WHERE titletype=\"movie\"\tnull\nExpanded Query:     \tSELECT `movie_title_transaction`.`primarytitle`,`movie_title_transaction`.`startyear` FROM `movies`.`movie_title_transaction` WHERE `movie_title_transaction`.`titletype`=\"movie\"\tnull\nRewrite Enabled:    \tYes                 \tnull\nOutdated for Rewriting:\tNo                  \tnull\n"}]},"apps":[],"jobName":"paragraph_1591759061614_-643910793","id":"20200521-070249_490428962","dateCreated":"2020-06-10T03:17:41+0000","dateStarted":"2020-06-11T22:12:48+0000","dateFinished":"2020-06-11T22:12:48+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:39431"},{"title":"10 - Execute a query on the materialized view","text":"%jdbc(hive_interactive)\nSELECT * FROM mv_movie_title LIMIT 2;","user":"sysadmin","dateUpdated":"2020-06-11T22:12:53+0000","config":{"tableHide":false,"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"mv_movie_title.primarytitle":"string","mv_movie_title.startyear":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}},"2":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"dc_comics_acid.page_id":"string","dc_comics_acid.name":"string","dc_comics_acid.urlslug":"string","dc_comics_acid.id":"string","dc_comics_acid.align":"string","dc_comics_acid.eye":"string","dc_comics_acid.hair":"string","dc_comics_acid.sex":"string","dc_comics_acid.gsm":"string","dc_comics_acid.alive":"string","dc_comics_acid.appearances":"string","dc_comics_acid.first_appearances":"string","dc_comics_acid.year":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"mv_movie_title.primarytitle\tmv_movie_title.startyear\nScary Story Slumber Party Volume 2\t2020\nToulouse-Lautrec, l'insaisissable\t2019\n"}]},"apps":[],"jobName":"paragraph_1591759061615_1938102321","id":"20181126-131556_320618379","dateCreated":"2020-06-10T03:17:41+0000","dateStarted":"2020-06-11T22:12:53+0000","dateFinished":"2020-06-11T22:12:53+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:39432"},{"title":"11 - Can you delete movie titles from the year 2000 and rebuild the materialized view? ","text":"%jdbc(hive_interactive)\nDELETE FROM mv_movie_title WHERE startYear='2000'","user":"sysadmin","dateUpdated":"2020-06-11T23:28:07+0000","config":{"tableHide":true,"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{}},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>The following code will produce an error because you cannot udpate or delete records in a view</p>\n<pre><code class=\"console\">%jdbc(hive_interactive)\nDelete from mv_movie_title where startYear='2000'\n</code></pre>\n"}]},"apps":[],"jobName":"paragraph_1591759061615_1863983775","id":"20181018-125344_1620499029","dateCreated":"2020-06-10T03:17:41+0000","dateStarted":"2020-06-11T22:13:01+0000","dateFinished":"2020-06-11T22:13:01+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:39433"},{"title":"12 - Show the materialized views in the movies database","text":"%jdbc(hive_interactive)\nSHOW MATERIALIZED VIEWS IN movies;","user":"sysadmin","dateUpdated":"2020-06-11T23:28:10+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"mv_name":"string","rewrite_enabled":"string","mode":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"mv_name\trewrite_enabled\tmode\n"}]},"apps":[],"jobName":"paragraph_1591759061615_1868277655","id":"20190606-130931_283500075","dateCreated":"2020-06-10T03:17:41+0000","dateStarted":"2020-06-11T23:28:11+0000","dateFinished":"2020-06-11T23:28:11+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:39434"},{"title":"13 - Drop the Materialized view","text":"%jdbc(hive_interactive)\nDROP MATERIALIZED VIEW movies.mv_movie_title;","user":"sysadmin","dateUpdated":"2020-06-11T23:28:05+0000","config":{"tableHide":true,"editorSetting":{"language":"sql","editOnDblClick":false,"completionKey":"TAB","completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"editorHide":false,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"compactionid":"string","dbname":"string","tabname":"string","partname":"string","type":"string","state":"string","workerid":"string","starttime":"string","duration":"string","hadoopjobid":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false},"multiBarChart":{"rotate":{"degree":"-45"},"xLabelStatus":"default"}},"commonSetting":{},"keys":[],"groups":[],"values":[]},"helium":{}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"}]},"apps":[],"jobName":"paragraph_1591759061615_-887201995","id":"20181018-125022_873188625","dateCreated":"2020-06-10T03:17:41+0000","dateStarted":"2020-06-11T23:28:05+0000","dateFinished":"2020-06-11T23:28:05+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:39435"},{"text":"%md\nWe hope you've enjoyed this lab. Below are additional resources that you should find useful:\n\n1. [Cloudera Apache Spark Tutorials](http://hortonworks.com/tutorials/#tuts-developers) are your natural next step where you can explore Spark in more depth.\n2. [Cloudera Community Connection (HCC)](https://community.hortonworks.com/spaces/85/data-science.html?type=question) is a great resource for questions and answers on Spark, Data Analytics/Science, and many more Big Data topics.\n3. [Cloudera Apache Spark Docs](https://docs.hortonworks.com/HDPDocuments/HDP3/HDP-3.0.1/spark-overview/content/analyzing_data_with_apache_spark.html) - official Spark documentation.\n4. [Cloudera Apache Zeppelin Docs](https://docs.hortonworks.com/HDPDocuments/HDP3/HDP-3.0.1/zeppelin-overview/content/overview.html) - official Zeppelin documentation.\n","user":"sysadmin","dateUpdated":"2020-06-11T20:25:41+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>We hope you've enjoyed this lab. Below are additional resources that you should find useful:</p>\n<ol>\n<li><a href=\"http://hortonworks.com/tutorials/#tuts-developers\">Cloudera Apache Spark Tutorials</a> are your natural next step where you can explore Spark in more depth.</li>\n<li><a href=\"https://community.hortonworks.com/spaces/85/data-science.html?type=question\">Cloudera Community Connection (HCC)</a> is a great resource for questions and answers on Spark, Data Analytics/Science, and many more Big Data topics.</li>\n<li><a href=\"https://docs.hortonworks.com/HDPDocuments/HDP3/HDP-3.0.1/spark-overview/content/analyzing_data_with_apache_spark.html\">Cloudera Apache Spark Docs</a> - official Spark documentation.</li>\n<li><a href=\"https://docs.hortonworks.com/HDPDocuments/HDP3/HDP-3.0.1/zeppelin-overview/content/overview.html\">Cloudera Apache Zeppelin Docs</a> - official Zeppelin documentation.</li>\n</ol>\n"}]},"apps":[],"jobName":"paragraph_1591759061615_632726485","id":"20181126-133017_244739700","dateCreated":"2020-06-10T03:17:41+0000","dateStarted":"2020-06-11T20:25:30+0000","dateFinished":"2020-06-11T20:25:30+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:39436"}],"name":"Hive/05-MaterializedViews","id":"2FAKQY5XB","noteParams":{},"noteForms":{},"angularObjects":{"md:shared_process":[],"angular:shared_process":[],"sh:shared_process":[],"jdbc:shared_process":[],"spark2:shared_process":[]},"config":{"isZeppelinNotebookCronEnable":false,"looknfeel":"default","personalizedMode":"false"},"info":{}}