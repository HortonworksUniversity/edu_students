{"paragraphs":[{"text":"%md\n# About This Lab\n**Objective:** Generate Cloudmart data and queries. Use tpc-ds tools to generate the retail dataset and various queries.\n**File locations:**\n**Successful outcome:**\n**Before you begin:**\n**Related lessons:** \n\nTPC is a non-profit organization dedicated to providing standardized benchmarking.\nCopyright © 2010–2020 Cloudera. All rights reserved.\nNot to be reproduced or shared without prior written consent from Cloudera.\n\n---","user":"devuser","dateUpdated":"2021-06-11T02:02:58+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false,"completionKey":"TAB"},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"fontSize":9,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h1>About This Lab</h1>\n<p><strong>Objective:</strong> Generate Cloudmart data and queries. Use tpc-ds tools to generate the retail dataset and various queries.\n<br  /><strong>File locations:</strong>\n<br  /><strong>Successful outcome:</strong>\n<br  /><strong>Before you begin:</strong>\n<br  /><strong>Related lessons:</strong></p>\n<p>TPC is a non-profit organization dedicated to providing standardized benchmarking.\n<br  />Copyright © 2010–2020 Cloudera. All rights reserved.\n<br  />Not to be reproduced or shared without prior written consent from Cloudera.</p>\n<hr />\n"}]},"apps":[],"jobName":"paragraph_1623343131777_1708526285","id":"20171105-200834_1116095891","dateCreated":"2021-06-10T16:38:51+0000","dateStarted":"2021-06-11T02:02:51+0000","dateFinished":"2021-06-11T02:02:51+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:89337"},{"text":"%md\n### References\n\n[Generate the data with the tpcds-kit](https://github.com/databricks/tpcds-kit)\n[Create the TPCDS tables](https://discover.qubole.com/notebook_examples/37/view_standalone)\n[TPCDS queries](https://github.com/databricks/spark-sql-perf/tree/master/src/main/resources/tpcds_2_4)","user":"devuser","dateUpdated":"2021-06-10T16:38:51+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h3>References</h3>\n<p><a href=\"https://github.com/databricks/tpcds-kit\">Generate the data with the tpcds-kit</a>\n<br  /><a href=\"https://discover.qubole.com/notebook_examples/37/view_standalone\">Create the TPCDS tables</a>\n<br  /><a href=\"https://github.com/databricks/spark-sql-perf/tree/master/src/main/resources/tpcds_2_4\">TPCDS queries</a></p>\n"}]},"apps":[],"jobName":"paragraph_1623343131777_-1387955862","id":"20210503-150429_1977624652","dateCreated":"2021-06-10T16:38:51+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:89338"},{"text":"%md\n### Install tpc-ds tool kit","user":"devuser","dateUpdated":"2021-06-10T16:38:51+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h3>Install tpc-ds tool kit</h3>\n"}]},"apps":[],"jobName":"paragraph_1623343131778_1385095765","id":"20210503-190223_716738724","dateCreated":"2021-06-10T16:38:51+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:89339"},{"title":"1 - Install supporting packages","text":"%sh\n\nsudo yum install -y gcc make flex bison byacc git\n","user":"devuser","dateUpdated":"2021-06-11T16:24:57+0000","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Loaded plugins: fastestmirror, ovl\nLoading mirror speeds from cached hostfile\n * base: d36uatko69830t.cloudfront.net\n * epel: mirrors.kernel.org\n * extras: d36uatko69830t.cloudfront.net\n * updates: d36uatko69830t.cloudfront.net\nPackage gcc-4.8.5-44.el7.x86_64 already installed and latest version\nPackage 1:make-3.82-24.el7.x86_64 already installed and latest version\nPackage flex-2.5.37-6.el7.x86_64 already installed and latest version\nPackage bison-3.0.4-2.el7.x86_64 already installed and latest version\nPackage byacc-1.9.20130304-3.el7.x86_64 already installed and latest version\nPackage git-1.8.3.1-23.el7_8.x86_64 already installed and latest version\nNothing to do\n"}]},"apps":[],"jobName":"paragraph_1623343131778_-683434859","id":"20210503-190304_1776366283","dateCreated":"2021-06-10T16:38:51+0000","dateStarted":"2021-06-11T16:24:57+0000","dateFinished":"2021-06-11T16:25:07+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:89340"},{"title":"2 - Clone the repo from git","text":"%sh\n\ncd /var/\nsudo git clone https://github.com/databricks/tpcds-kit.git","user":"devuser","dateUpdated":"2021-06-11T16:25:12+0000","config":{"tableHide":false,"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"ERROR","msg":[{"type":"TEXT","data":"fatal: destination path 'tpcds-kit' already exists and is not an empty directory.\n"},{"type":"TEXT","data":"ExitValue: 128"}]},"apps":[],"jobName":"paragraph_1623343131778_285216211","id":"20210503-190334_863404069","dateCreated":"2021-06-10T16:38:51+0000","dateStarted":"2021-06-11T16:25:12+0000","dateFinished":"2021-06-11T16:25:12+0000","status":"ERROR","progressUpdateIntervalMs":500,"$$hashKey":"object:89341"},{"title":"3 - Make the tpcds tool kit","text":"%sh\n\ncd /var/tpcds-kit/tools\nsudo make OS=LINUX","user":"devuser","dateUpdated":"2021-06-11T16:25:19+0000","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"make: Nothing to be done for `all'.\n"}]},"apps":[],"jobName":"paragraph_1623343131778_1767797370","id":"20210503-190509_418985474","dateCreated":"2021-06-10T16:38:51+0000","dateStarted":"2021-06-11T16:25:19+0000","dateFinished":"2021-06-11T16:25:19+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:89342"},{"text":"%md\n\n### Using the tpcds tool kit\n\n#### Data generation\nData generation is done via dsdgen. See dsdgen --help for all options. If you do not run dsdgen from the tools/ directory then you will need to use the option -DISTRIBUTIONS /.../tpcds-kit/tools/tpcds.idx.\n\n~~~\ndsdgen \\\n-DIR =  <s>               -- generate tables in directory <s>\n-HELP =  <n>              -- display this message\n-PARAMS =  <s>            -- read parameters from file <s>\n-QUIET =  [Y|N]           -- disable all output to stdout/stderr\n-SCALE =  <n>             -- volume of data to generate in GB\n-TABLE =  <s>             -- build only table <s>\n-UPDATE =  <n>            -- generate update data set <n>\n-VERBOSE =  [Y|N]         -- enable verbose output\n-PARALLEL =  <n>          -- build data in <n> separate chunks\n-CHILD =  <n>             -- generate <n>th chunk of the parallelized data\n-VALIDATE =  [Y|N]        -- produce rows for data validation\n~~~\n\n####Query generation\nQuery generation is done via dsqgen. See dsqgen --help for all options.\n\nThe following command can be used to generate all 99 queries in numerical order (-QUALIFY) for the 10TB scale factor (-SCALE) using the Netezza dialect template (-DIALECT) with the output going to /tmp/query_0.sql (-OUTPUT_DIR).\n\n~~~\ndsqgen \\\n-DIRECTORY ../query_templates \\\n-INPUT ../query_templates/templates.lst \\\n-VERBOSE Y \\\n-QUALIFY Y \\\n-SCALE 10000 \\\n-DIALECT netezza \\\n-OUTPUT_DIR /tmp\n~~~\n","user":"devuser","dateUpdated":"2021-06-10T16:38:51+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h3>Using the tpcds tool kit</h3>\n<h4>Data generation</h4>\n<p>Data generation is done via dsdgen. See dsdgen &ndash;help for all options. If you do not run dsdgen from the tools/ directory then you will need to use the option -DISTRIBUTIONS /&hellip;/tpcds-kit/tools/tpcds.idx.</p>\n<pre><code>dsdgen \\\n-DIR =  &lt;s&gt;               -- generate tables in directory &lt;s&gt;\n-HELP =  &lt;n&gt;              -- display this message\n-PARAMS =  &lt;s&gt;            -- read parameters from file &lt;s&gt;\n-QUIET =  [Y|N]           -- disable all output to stdout/stderr\n-SCALE =  &lt;n&gt;             -- volume of data to generate in GB\n-TABLE =  &lt;s&gt;             -- build only table &lt;s&gt;\n-UPDATE =  &lt;n&gt;            -- generate update data set &lt;n&gt;\n-VERBOSE =  [Y|N]         -- enable verbose output\n-PARALLEL =  &lt;n&gt;          -- build data in &lt;n&gt; separate chunks\n-CHILD =  &lt;n&gt;             -- generate &lt;n&gt;th chunk of the parallelized data\n-VALIDATE =  [Y|N]        -- produce rows for data validation\n</code></pre>\n<h4>Query generation</h4>\n<p>Query generation is done via dsqgen. See dsqgen &ndash;help for all options.</p>\n<p>The following command can be used to generate all 99 queries in numerical order (-QUALIFY) for the 10TB scale factor (-SCALE) using the Netezza dialect template (-DIALECT) with the output going to /tmp/query_0.sql (-OUTPUT_DIR).</p>\n<pre><code>dsqgen \\\n-DIRECTORY ../query_templates \\\n-INPUT ../query_templates/templates.lst \\\n-VERBOSE Y \\\n-QUALIFY Y \\\n-SCALE 10000 \\\n-DIALECT netezza \\\n-OUTPUT_DIR /tmp\n</code></pre>\n"}]},"apps":[],"jobName":"paragraph_1623343131778_2007901319","id":"20210503-190752_15073936","dateCreated":"2021-06-10T16:38:51+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:89343"},{"text":"%md\n## Generate Data\n---","user":"devuser","dateUpdated":"2021-06-11T02:09:22+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Generate Data</h2>\n<hr />\n"}]},"apps":[],"jobName":"paragraph_1623343131779_64870919","id":"20181114-164229_902436001","dateCreated":"2021-06-10T16:38:51+0000","dateStarted":"2021-06-11T02:09:09+0000","dateFinished":"2021-06-11T02:09:09+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:89344"},{"title":"1 - Create the data directory","text":"%sh\n\nsudo rm -rf  /var/edu/data/cloudmart\nsudo mkdir -p  /var/edu/data/cloudmart\nsudo chmod -R 777 /var/edu/data/cloudmart","user":"devuser","dateUpdated":"2021-06-11T16:25:44+0000","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1623343131779_-532597218","id":"20200929-162415_1942695800","dateCreated":"2021-06-10T16:38:51+0000","dateStarted":"2021-06-11T16:25:44+0000","dateFinished":"2021-06-11T16:25:44+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:89345"},{"text":"%md\n\n### Remove edu\nThe /var/edu/data directory should be changed to /var/data. This is a workaround for a read only file system on the dev platform.\n","user":"devuser","dateUpdated":"2021-06-11T16:15:52+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h3>Remove edu</h3>\n<p>The /var/edu/data directory should be changed to /var/data. This is a workaround for a read only file system on the dev platform.</p>\n"}]},"apps":[],"jobName":"paragraph_1623428084586_-123700517","id":"20210611-161444_2042139665","dateCreated":"2021-06-11T16:14:44+0000","dateStarted":"2021-06-11T16:15:52+0000","dateFinished":"2021-06-11T16:15:52+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:89346"},{"title":"2 - Generate data, -SCALE is in Gbytes","text":"%sh\n\ncd /var/tpcds-kit/tools\n./dsdgen -SCALE 1 -DIR /var/edu/data/cloudmart","user":"devuser","dateUpdated":"2021-06-11T16:25:53+0000","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"dsdgen Population Generator (Version 2.13.0)\nCopyright Transaction Processing Performance Council (TPC) 2001 - 2020\nWarning: This scale factor is valid for QUALIFICATION ONLY\n"}]},"apps":[],"jobName":"paragraph_1623343131779_-1038566676","id":"20210503-200124_1007632979","dateCreated":"2021-06-10T16:38:51+0000","dateStarted":"2021-06-11T16:25:53+0000","dateFinished":"2021-06-11T16:26:05+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:89347"},{"title":"3 - List the data files","text":"%sh\n\nls /var/edu/data/cloudmart","user":"devuser","dateUpdated":"2021-06-11T16:26:08+0000","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"call_center.dat\ncatalog_page.dat\ncatalog_returns.dat\ncatalog_sales.dat\ncustomer_address.dat\ncustomer.dat\ncustomer_demographics.dat\ndate_dim.dat\ndbgen_version.dat\nhousehold_demographics.dat\nincome_band.dat\ninventory.dat\nitem.dat\npromotion.dat\nreason.dat\nship_mode.dat\nstore.dat\nstore_returns.dat\nstore_sales.dat\ntime_dim.dat\nwarehouse.dat\nweb_page.dat\nweb_returns.dat\nweb_sales.dat\nweb_site.dat\n"}]},"apps":[],"jobName":"paragraph_1623343131779_60817184","id":"20210503-191527_13273516","dateCreated":"2021-06-10T16:38:51+0000","dateStarted":"2021-06-11T16:26:08+0000","dateFinished":"2021-06-11T16:26:08+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:89348"},{"text":"%md\n## Generate Queries\n","user":"devuser","dateUpdated":"2021-06-11T02:08:40+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Generate Queries</h2>\n"}]},"apps":[],"jobName":"paragraph_1623377265401_-1337494765","id":"20210611-020745_1035690496","dateCreated":"2021-06-11T02:07:45+0000","dateStarted":"2021-06-11T02:08:40+0000","dateFinished":"2021-06-11T02:08:40+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:89349"},{"text":"%md\n\n###\nGeneral Options\n===============\nFILE =  <s>              -- read parameters from file <s>\nVERBOSE =  [Y|N]         -- enable verbose output\nHELP =  [Y|N]            -- display this message\nOUTPUT_DIR =  <s>        -- write query streams into directory <s>\nQUIET =  [Y|N]           -- suppress all output (for scripting)\nSTREAMS =  <n>           -- generate <n> query streams/versions\nINPUT =  <s>             -- read template names from <s>\nSCALE =  <n>             -- assume a database of <n> GB\nLOG =  <s>               -- write parameter log to <s>\nQUALIFY =  [Y|N]         -- generate qualification queries in ascending order\n\nAdvanced Options\n===============\nDISTRIBUTIONS =  <s>     -- read distributions from file <s>\nPATH_SEP =  <s>          -- use <s> to separate path elements\nRNGSEED =  <n>           -- seed the RNG with <n>\nRELEASE =  [Y|N]         -- display QGEN release info\nTEMPLATE =  <s>          -- build queries from template <s> ONLY\nCOUNT =  <n>             -- generate <n> versions per stream (used with TEMPLATE)\nDEBUG =  [Y|N]           -- minor debugging outptut\nFILTER =  [Y|N]          -- write generated queries to stdout\nDIALECT =  <s>           -- include query dialect defintions found in <s>.tpl\nDIRECTORY =  <s>         -- look in <s> for templates\n\ncd /var/tpc-kit/tools\n./dsqgen -SCALE 1 -DIR X -STREAMS N -INPUT X -DISTRIBUTIONS X -OUTPUT X","user":"devuser","dateUpdated":"2021-06-11T03:33:06+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1623381941839_1168654191","id":"20210611-032541_1367353904","dateCreated":"2021-06-11T03:25:41+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:89350"},{"text":"%md\n\n###WARNING:\n\nYou must go into /var/tpcds-kit/query_templates and edit ansi.tpl to define a missing variable.\n~~~\ncd /var/tpcds-kit/query-templates\nsudo vim ansi.tpl   \n   define _END=\"\";\n~~~\n   ","user":"devuser","dateUpdated":"2021-06-11T03:58:17+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h3>WARNING:</h3>\n<p>You must go into /var/tpcds-kit/query_templates and edit ansi.tpl to define a missing variable.</p>\n<pre><code>cd /var/tpcds-kit/query-templates\nsudo vim ansi.tpl   \n   define _END=\"\";\n</code></pre>\n"}]},"apps":[],"jobName":"paragraph_1623383748025_-665460344","id":"20210611-035548_648228160","dateCreated":"2021-06-11T03:55:48+0000","dateStarted":"2021-06-11T03:58:17+0000","dateFinished":"2021-06-11T03:58:17+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:89351"},{"title":"List all of the query templates","text":"%sh\n\nls /var/tpcds-kit/query_templates\n","user":"devuser","dateUpdated":"2021-06-11T16:27:16+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/sh","title":true,"editorHide":false,"tableHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"ansi.tpl\ndb2.tpl\nnetezza.tpl\noracle.tpl\nquery10.tpl\nquery11.tpl\nquery12.tpl\nquery13.tpl\nquery14.tpl\nquery15.tpl\nquery16.tpl\nquery17.tpl\nquery18.tpl\nquery19.tpl\nquery1.tpl\nquery20.tpl\nquery21.tpl\nquery22.tpl\nquery23.tpl\nquery24.tpl\nquery25.tpl\nquery26.tpl\nquery27.tpl\nquery28.tpl\nquery29.tpl\nquery2.tpl\nquery30.tpl\nquery31.tpl\nquery32.tpl\nquery33.tpl\nquery34.tpl\nquery35.tpl\nquery36.tpl\nquery37.tpl\nquery38.tpl\nquery39.tpl\nquery3.tpl\nquery40.tpl\nquery41.tpl\nquery42.tpl\nquery43.tpl\nquery44.tpl\nquery45.tpl\nquery46.tpl\nquery47.tpl\nquery48.tpl\nquery49.tpl\nquery4.tpl\nquery50.tpl\nquery51.tpl\nquery52.tpl\nquery53.tpl\nquery54.tpl\nquery55.tpl\nquery56.tpl\nquery57.tpl\nquery58.tpl\nquery59.tpl\nquery5.tpl\nquery60.tpl\nquery61.tpl\nquery62.tpl\nquery63.tpl\nquery64.tpl\nquery65.tpl\nquery66.tpl\nquery67.tpl\nquery68.tpl\nquery69.tpl\nquery6.tpl\nquery70.tpl\nquery71.tpl\nquery72.tpl\nquery73.tpl\nquery74.tpl\nquery75.tpl\nquery76.tpl\nquery77.tpl\nquery78.tpl\nquery79.tpl\nquery7.tpl\nquery80.tpl\nquery81.tpl\nquery82.tpl\nquery83.tpl\nquery84.tpl\nquery85.tpl\nquery86.tpl\nquery87.tpl\nquery88.tpl\nquery89.tpl\nquery8.tpl\nquery90.tpl\nquery91.tpl\nquery92.tpl\nquery93.tpl\nquery94.tpl\nquery95.tpl\nquery96.tpl\nquery97.tpl\nquery98.tpl\nquery99.tpl\nquery9.tpl\nREADME\nsqlserver.tpl\ntemplates.lst\n"}]},"apps":[],"jobName":"paragraph_1623428221978_-859063047","id":"20210611-161701_52093047","dateCreated":"2021-06-11T16:17:01+0000","dateStarted":"2021-06-11T16:26:25+0000","dateFinished":"2021-06-11T16:26:25+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:89352"},{"text":"%md\n\n#### Query Templates\nThere are 99 query templates. You can create a query from one, several, or all. \n","user":"devuser","dateUpdated":"2021-06-11T16:19:04+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h4>Query Templates</h4>\n<p>There are 99 query templates. You can create a query from one, several, or all.</p>\n"}]},"apps":[],"jobName":"paragraph_1623428291409_484638679","id":"20210611-161811_432977267","dateCreated":"2021-06-11T16:18:11+0000","dateStarted":"2021-06-11T16:19:04+0000","dateFinished":"2021-06-11T16:19:04+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:89353"},{"title":"Create query directories","text":"%sh\n\nsudo mkdir -p /var/query/cloudmart\nsudo chmod 777 /var/query/cloudmart\n","user":"devuser","dateUpdated":"2021-06-11T16:27:25+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/sh","title":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1623421721989_-1010267919","id":"20210611-142841_1663533309","dateCreated":"2021-06-11T14:28:41+0000","dateStarted":"2021-06-11T16:27:25+0000","dateFinished":"2021-06-11T16:27:25+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:89354"},{"title":"Using dsqgen to create a single query","text":"%sh\n\nrm /var/query/cloudmart/*sql\n\ncd /var/tpcds-kit/tools\n./dsqgen -DIR /var/tpcds-kit/query_templates -TEMPLATE query10.tpl -DIALECT ansi -OUTPUT /var/query/cloudmart\n\nls /var/query/cloudmart/\ncat /var/query/cloudmart/query_0.sql\n\n","user":"devuser","dateUpdated":"2021-06-11T16:29:10+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/sh","title":true,"editorHide":false,"tableHide":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"qgen2 Query Generator (Version 2.13.0)\nCopyright Transaction Processing Performance Council (TPC) 2001 - 2020\nquery_0.sql\n\nselect top 100 \n  cd_gender,\n  cd_marital_status,\n  cd_education_status,\n  count(*) cnt1,\n  cd_purchase_estimate,\n  count(*) cnt2,\n  cd_credit_rating,\n  count(*) cnt3,\n  cd_dep_count,\n  count(*) cnt4,\n  cd_dep_employed_count,\n  count(*) cnt5,\n  cd_dep_college_count,\n  count(*) cnt6\n from\n  customer c,customer_address ca,customer_demographics\n where\n  c.c_current_addr_sk = ca.ca_address_sk and\n  ca_county in ('Walker County','Richland County','Gaines County','Douglas County','Dona Ana County') and\n  cd_demo_sk = c.c_current_cdemo_sk and \n  exists (select *\n          from store_sales,date_dim\n          where c.c_customer_sk = ss_customer_sk and\n                ss_sold_date_sk = d_date_sk and\n                d_year = 2002 and\n                d_moy between 4 and 4+3) and\n   (exists (select *\n            from web_sales,date_dim\n            where c.c_customer_sk = ws_bill_customer_sk and\n                  ws_sold_date_sk = d_date_sk and\n                  d_year = 2002 and\n                  d_moy between 4 ANd 4+3) or \n    exists (select * \n            from catalog_sales,date_dim\n            where c.c_customer_sk = cs_ship_customer_sk and\n                  cs_sold_date_sk = d_date_sk and\n                  d_year = 2002 and\n                  d_moy between 4 and 4+3))\n group by cd_gender,\n          cd_marital_status,\n          cd_education_status,\n          cd_purchase_estimate,\n          cd_credit_rating,\n          cd_dep_count,\n          cd_dep_employed_count,\n          cd_dep_college_count\n order by cd_gender,\n          cd_marital_status,\n          cd_education_status,\n          cd_purchase_estimate,\n          cd_credit_rating,\n          cd_dep_count,\n          cd_dep_employed_count,\n          cd_dep_college_count\n;\n\n\n"}]},"apps":[],"jobName":"paragraph_1623382234366_1166662836","id":"20210611-033034_1135550641","dateCreated":"2021-06-11T03:30:34+0000","dateStarted":"2021-06-11T16:27:54+0000","dateFinished":"2021-06-11T16:27:54+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:89355"},{"title":"Using dsqgen to create a stream of queries from a single query template","text":"%sh\n\nrm /var/query/cloudmart/*sql\n\ncd /var/tpcds-kit/tools\n./dsqgen -DIR /var/tpcds-kit/query_templates -TEMPLATE query10.tpl -DIALECT ansi -STREAM 10 -OUTPUT /var/query/cloudmart\n\nls /var/query/cloudmart\n\n","user":"devuser","dateUpdated":"2021-06-11T16:30:53+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/sh","title":true,"editorHide":false,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"qgen2 Query Generator (Version 2.13.0)\nCopyright Transaction Processing Performance Council (TPC) 2001 - 2020\nquery_0.sql\nquery_1.sql\nquery_2.sql\nquery_3.sql\nquery_4.sql\nquery_5.sql\nquery_6.sql\nquery_7.sql\nquery_8.sql\nquery_9.sql\n"}]},"apps":[],"jobName":"paragraph_1623421632239_1682953478","id":"20210611-142712_2085588833","dateCreated":"2021-06-11T14:27:12+0000","dateStarted":"2021-06-11T16:30:53+0000","dateFinished":"2021-06-11T16:30:53+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:89356"},{"title":"Using dsqgen to a stream of queries from the template list","text":"%sh\n\nrm /var/query/cloudmart/*sql\n\ncd /var/tpcds-kit/tools\n./dsqgen -DIR /var/tpcds-kit/query_templates -INPUT /var/tpcds-kit/query_templates/templates.lst -DIALECT ansi -STREAM 5 -OUTPUT /var/query/cloudmart\n\nls /var/query/cloudmart\n","user":"devuser","dateUpdated":"2021-06-11T16:30:28+0000","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"editorMode":"ace/mode/sh","title":true,"editorHide":false,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"qgen2 Query Generator (Version 2.13.0)\nCopyright Transaction Processing Performance Council (TPC) 2001 - 2020\nWarning: This scale factor is valid for QUALIFICATION ONLY\nquery_0.sql\nquery_1.sql\nquery_2.sql\nquery_3.sql\nquery_4.sql\n"}]},"apps":[],"jobName":"paragraph_1623421687791_2008641766","id":"20210611-142807_359056811","dateCreated":"2021-06-11T14:28:07+0000","dateStarted":"2021-06-11T16:30:28+0000","dateFinished":"2021-06-11T16:30:28+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:89357"},{"text":"%md\n\n## Reset\n","user":"devuser","dateUpdated":"2021-06-11T14:27:04+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Reset</h2>\n"}]},"apps":[],"jobName":"paragraph_1623343131783_388246890","id":"20210503-194519_536260495","dateCreated":"2021-06-10T16:38:51+0000","dateStarted":"2021-06-11T14:27:04+0000","dateFinished":"2021-06-11T14:27:04+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:89358"},{"title":"1 - Delete tmp directory","text":"%sh\n\nrm -r /var/edu/data/cloudmart","user":"devuser","dateUpdated":"2021-06-11T02:07:22+0000","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1623343131784_-17942818","id":"20210503-194718_1119413621","dateCreated":"2021-06-10T16:38:51+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:89359"},{"title":"Additional resources","text":"%md\nWe hope you've enjoyed this lab. Below are additional resources that you should find useful:\n\n1. [Cloudera Tutorials](http://cloudera.com/tutorials.html) are your natural next step where you can explore Spark in more depth.\n2. [Cloudera Community](https://community.cloudera.com) is a great resource for questions and answers on Spark, Data Analytics/Science, and many more Big Data topics.\n3. [Apache Spark Documentation](https://spark.apache.org/documentation.html) - official Spark documentation.\n4. [Apache Zeppelin Project Home Page](https://zeppelin.apache.org) - official Zeppelin web site.","user":"devuser","dateUpdated":"2021-06-10T16:38:51+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":10,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p>We hope you've enjoyed this lab. Below are additional resources that you should find useful:</p>\n<ol>\n<li><a href=\"http://cloudera.com/tutorials.html\">Cloudera Tutorials</a> are your natural next step where you can explore Spark in more depth.</li>\n<li><a href=\"https://community.cloudera.com\">Cloudera Community</a> is a great resource for questions and answers on Spark, Data Analytics/Science, and many more Big Data topics.</li>\n<li><a href=\"https://spark.apache.org/documentation.html\">Apache Spark Documentation</a> - official Spark documentation.</li>\n<li><a href=\"https://zeppelin.apache.org\">Apache Zeppelin Project Home Page</a> - official Zeppelin web site.</li>\n</ol>\n"}]},"apps":[],"jobName":"paragraph_1623343131784_-606098884","id":"20181116-135131_93712280","dateCreated":"2021-06-10T16:38:51+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:89360"},{"text":"%angular\n</br>\n</br>\n</br>\n</br>\n<center>\n<a href=\"https://www.cloudera.com/about/training/courses.html\">\n  <img src=\"https://www.cloudera.com/content/dam/www/marketing/media-kit/logo-assets/cloudera_logo_darkorange.png\" alt=\"Cloudera University\" style=\"width:280px;height:40px;border:0;\" align=\"middle\">\n</a>\n</center>\n</br>\n</br>","user":"devuser","dateUpdated":"2021-06-10T16:38:51+0000","config":{"tableHide":false,"editorSetting":{"language":"scala","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":2,"editorMode":"ace/mode/undefined","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"ANGULAR","data":"</br>\n</br>\n</br>\n</br>\n<center>\n<a href=\"https://www.cloudera.com/about/training/courses.html\">\n  <img src=\"https://www.cloudera.com/content/dam/www/marketing/media-kit/logo-assets/cloudera_logo_darkorange.png\" alt=\"Cloudera University\" style=\"width:280px;height:40px;border:0;\" align=\"middle\">\n</a>\n</center>\n</br>\n</br>"}]},"apps":[],"jobName":"paragraph_1623343131784_-1616851102","id":"20200110-154537_1406191376","dateCreated":"2021-06-10T16:38:51+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:89361"},{"text":"%angular\n","user":"devuser","dateUpdated":"2021-06-10T16:38:51+0000","config":{"tableHide":false,"editorSetting":{"language":"scala","editOnDblClick":true,"completionKey":"TAB","completionSupport":false},"colWidth":12,"editorMode":"ace/mode/undefined","fontSize":9,"editorHide":false,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1623343131784_195490886","id":"20200110-162013_302547143","dateCreated":"2021-06-10T16:38:51+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:89362"}],"name":"DATASET/Cloudmart_tpc","id":"2G715TQS6","noteParams":{},"noteForms":{},"angularObjects":{"md:shared_process":[],"psql:shared_process":[],"angular:shared_process":[],"sh:shared_process":[],"jdbc:shared_process":[],"spark2:shared_process":[]},"config":{"isZeppelinNotebookCronEnable":false,"looknfeel":"default","personalizedMode":"false"},"info":{}}